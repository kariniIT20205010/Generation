<!DOCTYPE>
<html>
<head>

    <title>Generation</title>
    <script src="assets/global/plugins/jquery.min.js" type="text/javascript"></script>
    <script src="includes/javascripts/jquery/jquery-ui.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="Energy.css">
    <script>

        $(document).ready(function () {

            let i = 1;

            $("#btnAdd").click(function () {

                let newHtml = GetHtml().replace("$[Id]",i++).replace("$[Type]", $("#txtType").val()).replace("$[Volt]", $("#txtVolt").val()).replace("$[Edit]", "Edit").replace("$[Delete]", "Delete");

                $("#table_td").append(newHtml);

            });

            $("#btnUpdate").click(function () {

                let newHtml = GetHtml().replace("$[Id]", $("#numId").val()).replace("$[Type]", $("#txtType").val()).replace("$[Volt]", $("#txtVolt").val()).replace("$[Edit]", "Edit").replace("$[Delete]", "Delete");

                $("#table_td").append(newHtml);

                $("#btnAdd").show();

                $("#btnUpdate").hide();

                $("#numId").val('');

                $("#txtType").val('');

                $("#txtVolt").val('');



            });

            $(document).on("click", "#A_Edit", function () {

                $("#btnAdd").hide();

                $("#btnUpdate").show();

                $("#numId").show();

                $("#numId").val($(this).parent().parent().find('.Id').html());

                $("#txtType").val($(this).parent().parent().find('.Type').html());

                $("#txtVolt").val($(this).parent().parent().find('.Volt').html());

                $(this).parents("tr").remove();

                $("#btnUpdate").focus();



            });


            $(document).on("click", "#A_delete", function () {

                $(this).parents("tr").remove();

            });

        });


        function GetHtml() {

            return "<tr><td class='Id'>$[Id]</td>"

                + "<td class='Type'>$[Type]</td>"

                + "<td class='Volt'>$[Volt]</td>"

                + "<td class='action'><a href='#' id='A_Edit'> $[Edit] </a> <a href='#' id='A_delete'>$[Delete]</a></td></tr>";

        }


    </script>

</head>

<body>

<form id="form1">
    <center>
        <h1>Energy</h1>
    </center>
    <table class='table table-bordered' id='UserInfo'>

        <tr>
            <th>ID</th>
            <th>Type</th>
            <th>Volt</th>
            <th>Action</th>
        </tr>

        <tbody id="table_td"></tbody>

    </table>

    <h3>
        Add New
    </h3>

    <table class='table table-bordered' id='Add'>
        <tr>
            <th>ID</th>
            <th>Type</th>
            <th>Volt</th>
        </tr>

        <tr>
            <td>
                <input type="number" id="numId" style="display: none" readonly name="ID" value="" />
            </td>
            <td>
                <input type="text" id="txtType" name="Type" value="" />
            </td>
            <td>
                <input type="text" id="txtVolt" name="Volt" value="" />
            </td>

        </tr>

    </table>

    <input type="button" id="btnAdd" style="display: block" value="Add" />

    <input type="button" id="btnUpdate" style="display: none" value="Update" />

    <br />

    <div id="output"></div>

</form>

</body>

</html>